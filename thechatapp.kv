ScreenManager:

<ScreenManager>:
    Screen1:
    Screen2:
    Screen3:

<Screen1>:
    name: 'screen1'
    BoxLayout:
        orientation: 'vertical'
        spacing: 5
        Label:
            text: 'Username:'
            size_hint: (1, 0.1)
        TextInput:
            id: text_input_1
            orientation: "vertical"

            multiline: False
            on_text_validate: root.on_username_send_button_press(self)
            size_hint: (1, 0.15)

        Button:
            text: 'Send'
            on_press: root.on_username_send_button_press(text_input_1)
            size_hint: (1, 0.15)
        
        NumericalKeyboard:
            id: numerical_keyboard
            disabled: True

<Screen2>:
    name: 'screen2'
    BoxLayout:
        id: box_layout_1
        orientation: "vertical"

        ScrollView:
            id: scroll_view
            canvas.before:
                Color:
                    rgba: 0, 77/255, 26/255, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            Messages:


        BoxLayout:
            orientation: "horizontal"
            size_hint: (1, None)
            height: "60dp"
            pos_hint: {"x": 0, "y": 0}

            TextInput:
                id: text_input
                orientation: "vertical"

                multiline: False
                on_text_validate: root.on_button_press(text_input)
                size_hint: (0.85, None)
                height: "60dp"
                pos_hint: {"x": 0, "y": 0}

            Button:
                id: my_send_button
                orientation: "vertical"
                size_hint: (0.15, None)
                height: "60dp"
                pos_hint: {"x": 0.85, "y": 0}
                on_press: root.on_button_press(text_input)

                background_normal: 'img_2.png'

<Screen3>:
    name: 'screen3'
    Label:
        text: 'Not today =)'

<Messages>:
    id: messages
    size_hint: (1, None)
    height: self.minimum_height
    orientation: "vertical"
    spacing: '10dp'

<MessageLabel1>:
    canvas.before:
        Color:
            rgba: (0.1, 0.5, 0.1, 1)
        RoundedRectangle:
            radius:[20]
            pos: self.pos
            size: self.size
    size_hint_y: None
    height: self.texture_size[1]
    text_size: self.width, None
    text: ''
    font_size: "16sp"
    padding: 20, 20

<MessageLabel2>:
    canvas.before:
        Color:
            rgba: (0.1, 0.5, 0.4, 1)
        RoundedRectangle:
            radius:[20]
            pos: self.pos
            size: self.size
    size_hint_y: None
    height: self.texture_size[1]
    text_size: self.width, None
    text: ''
    font_size: "16sp"
    padding: 20, 20